{% extends "base.html" %}
{% load static %}

{% block title %}
{% endblock title %}

{% block content %}
<!-- MODAL -->
<div class="ui modal mymodal">
  <i class="close icon"></i>
  <div class="header">
    Update you profile
  </div>
  <div class="image content">
    <div class="ui medium image">
      {% if request.user.is_authenticated %}
        <img src={{request.user.profile.avatar}} class="ui avatar image">&nbsp;
      {% else %}
        <img src= {% static "css/img/avatar.png" %}class="ui avatar image">&nbsp;
      {% endif %}
    </div>
    <div class="description">
      <div class="ui header">Tell us about! </div>
      <form action="" method="POST" class="ui form" enctype="multipart/form-data">
        {% csrf_token %}
        {{form.as_p}}
      </form>
    </div>
  </div>
  <div class="actions">
    <button type='submit' class="ui positive right labeled icon button">
      Update
      <i class="checkmark icon"></i>
    </button>
  </div>
</div>
<!-- MODAL -->
{% if confirm %}
<div class="ui green message">Your profile has been updated</div>
{% endif %}
<div class="ui segment">
  {% if confirm %}
  <div class="ui green message">Your profile has been updated</div>
  {% endif %}
  <h3>my profile{{request.user}}</h3>
  <div class='ui grid'></div>
</div class='row'>
<div class="six wide column"></div>
<img class="ui medium rounded image"src={{profile.avatar.url}}>
<div class="row mt-5">
  <button class="ui secondary button" id="modal-btn">Update your profile</button>
</div>
<div class="ten wide column">
  <table class="ui table">
    <tbody>
      <tr>
        <td>username</td>
        <td>{{profile.user}}</td>
      </tr>
      <tr>
        <td>bio</td>
        <td>{{profile.bio}}</td>
      </tr>
      <tr>
        <td>number of friends</td>
        <td>{{profile.get_friends_number}}</td>
      </tr>
      <tr>
        <td>friends list:</td>
        <ul>
          {% for friend in profile.get_friends %}
          <li>{{friend}}</li>
          {% endfor %}
        </ul>
      </tr>
      <tr>
        <td>number of posts</td>
        <td>{{profile.get_posts_number}}</td>
      </tr>
      <tr>
        <td>number of likes given</td>
        <td>{{profile.get_likes_given}}</td>
      </tr>
      <tr>
        <td>number of likes recieved</td>
        <td>{{profile.get_likes_recieved}}</td>
      </tr>
    </tbody>
  </table>
</div>
</div>
</div>

{% endblock content %}